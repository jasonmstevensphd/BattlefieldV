---
title: "BattlefieldV_Report"
author: '@jasonmstevens'
date: "January 13, 2019"
output:
  html_document:
    theme: journal
    toc: yes
    toc_depth: 3
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## A Data Science Journey through Battlefield V

Here is some text

```{r Initiate}

library(tidyverse)
library(readxl)
library(lubridate)

BFV <- read_xlsx("D:/Data_Science/BattlefieldV/Battlefield5.xlsx", sheet = "Sheet1") %>%
  filter(!is.na(Date))

ROWS <- nrow(BFV)
AVG_KD <- mean(as.numeric(BFV$`K/D`), na.rm = TRUE)
AVG_KD <- round(AVG_KD, digits = 3)
Total_KD <- sum(as.numeric(BFV$Kills), na.rm = TRUE)/sum(as.numeric(BFV$Deaths), na.rm = TRUE)
Total_KD <- round(Total_KD, digits = 3)
Kills <- sum(as.numeric(BFV$Kills), na.rm = TRUE)
Deaths <- sum(as.numeric(BFV$Deaths), na.rm = TRUE)

DAY <- today(tzone = "America/New_York")

PlayRange <- range(BFV$Date, na.rm = TRUE)

plot <- theme(plot.background = element_rect(fill = "white")) +
        theme(panel.background = element_rect(fill = "white",
                                              colour="grey50")) +
        theme(plot.title = element_text(face = "bold",
                                        size = 18,
                                        color = "navy")) +
        theme(axis.title = element_text(face = "bold",
                                        size = 16)) +
        theme(axis.text.x = element_text(vjust = 1,
                                     hjust = 1,
                                     size = 12,
                                     angle = 60)) +
        theme(axis.text.y = element_text(size = 12)) +
        theme(aspect.ratio = 3.5/5)


```

### A Snapshot of My Play Style and Skill

Here is a breif overview of what kind of player I am. Mostly, I play for fun and the challenge the game offers. As can be seen below I would consider myself a mediocre player. 

```{r Overview_Stats, echo=FALSE}

paste0("I've tracked a total of ", ROWS, " rounds. During that the interval I've averaged a K/D of ", AVG_KD,
       " and a total K/D of ", Total_KD, " (Kills = ", Kills, ", Deaths = ", Deaths, ").")

```

Here we can see the modes that I play and what weapons I use on each map. It's clear that I've played a lot of support and medic while I don't have any rounds as recon. Also, it appears that I tend to play the Conquest game mode with the highest frequency.

```{r Overview_Plot, echo=FALSE}

Overview_Plot <- ggplot(BFV, aes())+
  geom_bar(aes(GameMode, fill = Weapon))+
  facet_wrap(~Class) +
  ggtitle("Number of Plays for each Game Mode") +
  labs(x = "Game Mode", y = "Times Played") +
  plot
  

Overview_Plot

```

A key part of the draw to gaming is the competitive nature and the challenge. Therefore, it was interesting to see whether or not I've been improving with each round. The plot below indicates that the variation in the outcome for matches varies greatly but the overall trend is clearly showing and increase in Kills per Deaths with increased lifetime rounds played.

```{r KD_Plot, echo=FALSE}

KD_Plot <- ggplot(BFV, aes(x = Entry, y = `K/D`))+
  geom_point(aes(color = GameMode, shape = Class), size = 2) + 
  geom_smooth(method = 'lm', formula = y ~ x) +
  ggtitle("Kills per Deaths over Time") +
  labs(x = "Game Entry", y = "Kills/Deaths") +
  plot
  

KD_Plot

```

###Maps

We've established that I'm slowly but surely getting better playing mostly medic and support and that I have a preference for the conquest game mode. Now let's take a closer look at the maps that I play. From the plot below it can be seen that Hamada, Rotterdam and Narvik make up the bulk of my gameplay. An interesting question is how well do I do on the maps that I play the most frequently.

```{r MapPlays_Plot, echo=FALSE}

Maps_Plot <- ggplot(BFV, aes())+
  geom_bar(aes(Map, fill = GameMode))+
  ggtitle("Number of Plays for each Map") +
  labs(x = "Map", y = "Times Played") +
  plot
  
Maps_Plot

```


Inspecting my average K/D per map it is evident that Fjell 652 and Panzerstorm are definitely my best maps although the maps I play most frequently are Hamada, Rotterdam and Narvik which are my 6th, 5th and 3rd best maps.

```{r MapsKD_Plot, echo=FALSE}

MAP_KD <- BFV %>% group_by(Map, GameMode) %>%
  summarize(Counts = n(), AVG_KD = mean(`K/D`))

MAP_KD$AVG_KD <- round(MAP_KD$AVG_KD, digits = 2)

MapKD_Plot <- ggplot(MAP_KD, aes(Map, AVG_KD))+
  geom_boxplot()+
  geom_point(aes(color = GameMode), size = 2)+
  ggtitle("Average Kills per Death for each Map") +
  labs(x = "Map", y = "Kills per Death") +
  plot
  
MapKD_Plot

```

The above data are a bit strange as there doesn't seem to be any relation between my play and the type of map. Fjell 652 and Panzerstorm are my two best maps yet complete polar opposites in terms of map layout and gameplay. To see if there is a simple correlation between whether or not my performance is related to the number of time I've played the map I plotted my average KD for each gamemode and map vs times played. The result is that there is a weak correlation.

```{r MapMode_Plot, echo=FALSE}

MapCount_Plot <- ggplot(MAP_KD, aes(Counts, AVG_KD)) +
  geom_point(aes(color = Map, shape = GameMode), size = 2) +
  geom_smooth(method='lm',formula=y~x) +
  ggtitle("Average KD per Map/Gamemode vs Times Played") +
  labs(x = "Times Played", y = "Kills per Death") +
  plot
  
MapCount_Plot

```


Up to this point we've determined that I am clearly getting better as I continue to play and that my performance on each map is loosely correlated to the number of times I've played a game mode on a given map. Now we will dig a bit deeper into my gameplay for each class.

###Medic Class

The medic class was a natural fit for me as I overwhelmingly played assault in BF1 and the SMG's are my go to. However, the medic class is exceptionally difficult to play in BFV due to the limited range of the SMG's and the 5 hit kills required with most of them. Let's first see if my medic play has been improving over time.

```{r MedicKD_Plot, echo=FALSE}

Medic <- BFV %>% filter(Class == 'Medic')

MedicKD_Plot <- ggplot(Medic, aes(x = Entry, y = `K/D`))+
  geom_point(aes(color = GameMode, shape = Weapon), size = 2) + 
  geom_smooth(method = 'lm', formula = y ~ x) +
  ggtitle("Kills per Deaths over Time as Medic Class") +
  labs(x = "Game Entry", y = "Kills/Deaths") +
  plot
  

MedicKD_Plot

```

It also appears as though my average is increasing over time while playing medic. When we take a look at my gameplay as a medic for each map we see that my gameplay is fairly consistent although for some reason I do very well on Fjell 652 and Panzerstorm.

```{r MedicMapsKD_Plot, echo=FALSE}

MAPMedic_KD <- Medic %>% group_by(Map, GameMode) %>%
  summarize(Counts = n(), AVG_KD = mean(`K/D`))

MAPMedic_KD$AVG_KD <- round(MAPMedic_KD$AVG_KD, digits = 2)

MapMedicKD_Plot <- ggplot(MAPMedic_KD, aes(Map, AVG_KD))+
  geom_boxplot()+
  geom_point(aes(color = GameMode), size = 2)+
  ggtitle("Average Kills per Death for each Map") +
  labs(x = "Map", y = "Kills per Death") +
  plot
  
MapMedicKD_Plot

```

### Assault Class

The medic class was a natural fit for me as I overwhelmingly played assault in BF1 and the SMG's are my go to. However, the medic class is exceptionally difficult to play in BFV due to the limited range of the SMG's and the 5 hit kills required with most of them. Let's first see if my medic play has been improving over time.

```{r AssaultKD_Plot, echo=FALSE}

Assault <- BFV %>% filter(Class == 'Assault')

AssaultKD_Plot <- ggplot(Assault, aes(x = Entry, y = `K/D`))+
  geom_point(aes(color = GameMode, shape = Weapon), size = 2) + 
  geom_smooth(method = 'lm', formula = y ~ x) +
  ggtitle("Kills per Deaths over Time as Assault Class") +
  labs(x = "Game Entry", y = "Kills/Deaths") +
  plot
  

AssaultKD_Plot

```

Text

```{r MedicMapsKD_Plot, echo=FALSE}

MAPAssault_KD <- Assault %>% group_by(Map, GameMode) %>%
  summarize(Counts = n(), AVG_KD = mean(`K/D`))

MAPAssault_KD$AVG_KD <- round(MAPAssault_KD$AVG_KD, digits = 2)

MapAssaultKD_Plot <- ggplot(MAPAssault_KD, aes(Map, AVG_KD))+
  geom_boxplot()+
  geom_point(aes(color = GameMode), size = 2)+
  ggtitle("Average Kills per Death for each Map") +
  labs(x = "Map", y = "Kills per Death") +
  plot
  
MapAssaultKD_Plot

```




